@{
    var URL_QUERY = int.Parse(Context.Request.Query["MovieId"]);
}


<main class="flex-grow container mx-auto p-4">
    <h2 class="text-3xl font-semibold mb-6">Reserve Your Movie Tickets</h2>

    <div class="bg-white rounded-lg shadow-md p-6">
     

        <section class="mb-8">
            <h3 class="text-xl font-semibold mb-4">Choose Date and Time</h3>
            <div class="flex flex-wrap -mx-2">
                <div class="w-full md:w-1/2 px-2 mb-4">
                    <label class="block mb-2">Date</label>
                    <input type="date" class="w-full p-2 border rounded" id="dateInput">
                </div>
                <div class="w-full md:w-1/2 px-2 mb-4">
                    <label class="block mb-2">Time</label>
                    <select class="w-full p-2 border rounded" id="timeSelect">
                        <option>Select time...</option>
                        <option>12:00 PM</option>
                        <option>3:00 PM</option>
                        <option>6:00 PM</option>
                        <option>9:00 PM</option>
                    </select>
                </div>
            </div>
        </section>

        <section class="mb-8">
            <h3 class="text-xl font-semibold mb-4">Select Seats</h3>
            <div class="grid grid-cols-2 gap-2">
                <button id="chooseSeatsButton" class="bg-blue-500 text-white font-medium py-2 px-4 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-400" disabled>
                    <a asp-action="Seats" asp-controller="Ticket" class="text-white" asp-route-MovieId="@URL_QUERY"  class="chooseSeats" style="display:none;">Choose your seats</a>
                </button>
            </div>
        </section>

        <section>
            <h3 class="text-xl font-semibold mb-4">Reservation Details</h3>
            <form id="reservationForm">
                <div class="mb-4">
                    <label class="block mb-2">Full Name</label>
                    <input type="text" class="w-full p-2 border rounded" id="fullName" required>
                </div>
                <div class="mb-4">
                    <label class="block mb-2">Email</label>
                    <input type="email" class="w-full p-2 border rounded" id="email" required>
                </div>
                <div class="mb-4">
                    <label class="block mb-2">Phone Number</label>
                    <input type="tel" class="w-full p-2 border rounded" id="phoneNumber" required>
                </div>
                <button type="submit" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
                    Reserve Tickets
                </button>
            </form>
        </section>
    </div>
</main>

<script>
    // Function to check if the form is completely filled out
    function checkFormCompletion() {
        const fullName = document.getElementById("fullName").value.trim();
        const email = document.getElementById("email").value.trim();
        const phoneNumber = document.getElementById("phoneNumber").value.trim();
        const chooseSeatsButton = document.getElementById("chooseSeatsButton");
        const ChooseSeatsaTAG = document.querySelector(".chooseSeats");
        // Enable the "Choose your seats" button if all fields are filled
        if (fullName && email && phoneNumber) {
            ChooseSeatsaTAG.classList.remove("chooseSeats")
        } else {
            chooseSeatsButton.disabled = true;
        }
    }

    // Add event listeners to form fields to monitor changes
    document.getElementById("fullName").addEventListener("input", checkFormCompletion);
    document.getElementById("email").addEventListener("input", checkFormCompletion);
    document.getElementById("phoneNumber").addEventListener("input", checkFormCompletion);
</script>
